<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Portal 2 Launcher</title>
    <link rel="stylesheet" href="/bootstrap/5.0/bootstrap.min.css">
    <link rel="stylesheet" href="/bootstrap/5.0/bootstrap.dark.css">
    <link rel="stylesheet" href="/style.css"/>
    <link rel="stylesheet" href="/scroll.css">
    <link rel="stylesheet" href="/toastr/toastr.min.css">
</head>
<body scheme="client_dark">
<div>
    <div>
        <img src="/images/header.png" class="img-header">
        <div class="controls">
            <select class="form-select poster-style" style="width: auto">
                <option value="main" data-translate="iconSet1">Набор иконок 1</option>
                <option value="alt" data-translate="iconSet2">Набор иконок 2</option>
            </select>
            <select class="form-select language-select" style="width: auto">
                <option value="en" data-translate="english">English</option>
                <option value="ru" data-translate="russian">Русский</option>
            </select>
            <button class="btn btn-warning toggle-coop" data-translate="coopMode">Кооперативный режим</button>
        </div>
    </div>

    <!-- Game Grid -->
    <div class="game-grid">
        <div id="gameCards" class="g-4"></div>
    </div>

    <!-- Cooperative Mode Selection -->
    <div class="coop-mode-select d-none">
        <div class="coop-grid">
            <div class="game-card coop-card" id="createServerCard">
                <div class="coop-card-overlay"></div>
                <div class="coop-card-text" data-translate="createServer">Создать сервер</div>
                <img src="/images/launcher/coop/create.jpg" alt="Создать сервер">
            </div>
            <div class="game-card coop-card" id="connectServerCard">
                <div class="coop-card-overlay"></div>
                <div class="coop-card-text" data-translate="connectServer">Подключиться к серверу</div>
                <img src="/images/launcher/coop/connect.jpg" alt="Подключиться к серверу">
            </div>
            <div class="game-card coop-card" id="splitScreenCard">
                <div class="coop-card-overlay"></div>
                <div class="coop-card-text" data-translate="splitScreenMode">Создать разделение экрана без сервера</div>
                <img src="/images/launcher/coop/splitscreen.jpg" alt="Создать разделение экрана без сервера">
            </div>
        </div>
    </div>

    <!-- Server Creation Interface -->
    <div class="server-creation d-none">
        <!-- Chapter and Map Selections -->
        <div class="input-group mb-3">
            <label class="input-group-text" for="chapterSelect" data-translate="selectChapter">Выбор главы</label>
            <select class="form-select" id="chapterSelect"></select>
        </div>
        <div class="input-group mb-3">
            <label class="input-group-text" for="mapSelect" data-translate="selectMap">Выбор карты</label>
            <select class="form-select" id="mapSelect"></select>
        </div>

        <!-- Port Input -->
        <div class="input-group mb-3">
            <span class="input-group-text" data-translate="serverPort">Порт сервера:</span>
            <input readonly type="text" value="27015" class="form-control">
            <span class="input-group-text" data-translate="portNote">Изменить нельзя, у сервера должен быть открыт этот порт</span>
        </div>

        <!-- Timeout Input 1 -->
        <div class="input-group mb-3">
            <span class="input-group-text" data-translate="mp_wait_for_other_player_notconnecting_timeout">Maximum time that we wait in the transition loading screen after we fully loaded for partner to start loading</span>
            <input type="text" class="form-control" id="mp_wait_for_other_player_notconnecting_timeout" value="60">
        </div>

        <!-- Timeout Input 2 -->
        <div class="input-group mb-3">
            <span class="input-group-text" data-translate="mp_wait_for_other_player_timeout">Maximum time that we wait in the transition loading screen for the other player</span>
            <input type="text" class="form-control" id="mp_wait_for_other_player_timeout" value="100">
        </div>

        <!-- Command Preview for Server Creation -->
        <div id="command-preview" class="command-preview">
            <strong class="command-preview-label" data-translate="launchCommand">Команда запуска:</strong><br>
            <div id="create-server-command-text" class="command-preview-text">
                Пожалуйста, выберите главу и карту.
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="text-center">
            <button class="btn btn-secondary back-btn" data-translate="back">Назад</button>
            <button class="btn btn-success start-server" data-translate="startServer">Запустить сервер</button>
        </div>
    </div>

    <!-- Server Connection Interface -->
    <div class="connection d-none">
        <!-- IP Input -->
        <div class="input-group mb-3">
            <span class="input-group-text" data-translate="ipAddress">IP-адрес сервера:</span>
            <input type="text" class="form-control" id="ipInput" placeholder="x.x.x.x">
        </div>

        <!-- Command Preview for Connection -->
        <div id="connection-command-preview" class="command-preview">
            <strong class="command-preview-label" data-translate="launchCommand">Команда запуска:</strong><br>
            <div id="connection-command-text" class="command-preview-text">
                Пожалуйста, введите IP-адрес сервера.
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="text-center">
            <button class="btn btn-secondary back-btn" data-translate="back">Назад</button>
            <button class="btn btn-success connect-server" data-translate="connect">Подключиться к серверу</button>
        </div>
    </div>

    <!-- Split Screen Mode Selection -->
    <div class="split-screen-mode d-none">
        <div class="split-screen-grid">
            <div class="game-card split-screen-card" id="createSplitScreenCard">
                <div class="coop-card-overlay"></div>
                <div class="coop-card-text" data-translate="splitScreenMode">Создать разделение экрана без сервера</div>
                <img src="/images/launcher/coop/splitscreen.jpg" alt="Создать разделение экрана без сервера">
            </div>
        </div>
    </div>

    <!-- Split Screen Creation Interface -->
    <div class="split-screen-creation d-none">
        <!-- Chapter and Map Selections -->
        <div class="input-group mb-3">
            <label class="input-group-text" for="chapterSelect" data-translate="selectChapter">Выбор главы</label>
            <select class="form-select" id="chapterSelectSplitScreen"></select>
        </div>
        <div class="input-group mb-3">
            <label class="input-group-text" for="mapSelect" data-translate="selectMap">Выбор карты</label>
            <select class="form-select" id="mapSelectSplitScreen"></select>
        </div>

        <!-- Info Message -->
        <div class="alert alert-warning" role="alert" data-translate="splitScreenInfo">
            Чтобы играть в режиме разделения экрана нужно иметь и клавиатуру и геймпад. После загрузки уровня нажмите Z чтобы переключить клавиатуру на длинного робота, а управление геймпадом должно остаться на коротком роботе. Если геймпад не работает, то убедитесь, что опция Контроллер (Геймпад) имеет статус "Включено" в настройках игры. Также вы можете пройти игру в этом режиме в одиночку, просто переключая управление клавиатурой между персонажами на букву Z.
        </div>

        <!-- Command Preview for Split Screen Creation -->
        <div id="split-screen-command-preview" class="command-preview">
            <strong class="command-preview-label" data-translate="launchCommand">Команда запуска:</strong><br>
            <div id="split-screen-command-text" class="command-preview-text">
                Пожалуйста, выберите главу и карту.
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="text-center">
            <button class="btn btn-secondary back-btn" data-translate="back">Назад</button>
            <button class="btn btn-success start-split-screen" data-translate="startServer">Запустить разделение экрана</button>
        </div>
    </div>
</div>

<script src="/bootstrap/5.0/bootstrap.bundle.min.js"></script>
<script src="/jquery-3.6.0.js"></script>
<script src="/toastr/toastr.min.js"></script>
<script src="/maps.js"></script>
<script src="/lang.js"></script>
<script src="/script.js"></script>
</body>
</html>